<!-- recipe.component.html -->

<div *ngIf="recipes && recipes.length > 0; else noRecipes">
  <h2>Liste des Recettes</h2>
  <ul>
    <li *ngFor="let recipe of recipes">
      <div>
        <img [src]="recipe.image" alt="{{ recipe.name }}" width="100" height="100">
      </div>
      <div>
        <h3>{{ recipe.name }}</h3>
        <div *ngIf="recipe.ingredients && recipe.ingredients.length > 0">
          <h4>Ingr√©dients :</h4>
          <ul>
            <li *ngFor="let ingredient of recipe.ingredients">
              {{ ingredient.name }} ({{ ingredient.calorie }} calories, {{ ingredient.type }})
            </li>
          </ul>
        </div>
        
        <p>{{ recipe.preparation }}</p>
        <p>Duration: {{ recipe.duration }}</p>
        <p>Difficulty: {{ recipe.difficulty }}</p>
        <p>Budget: {{ recipe.budget }}</p>
        
        <!-- Ajoutez cette section pour afficher le total calorique -->
        <div *ngIf="recipe.ingredients && recipe.ingredients.length > 0">
          <p>Total Calorique: {{ calculateTotalCalories(recipe.ingredients) }} calories</p>
        </div>
      </div>
    </li>
  </ul>
</div>

<ng-template #noRecipes>
<p>Aucune recette disponible pour le moment.</p>
</ng-template>